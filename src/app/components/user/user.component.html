<div class="user-container">
  <h2>Your Workouts</h2>

  <div class="sort-control" *ngIf="categories$ | async as categories">
    <label>Filter by category:</label>
    <select [formControl]="sortControl">
      <option value="">-- All --</option>
      <option *ngFor="let cat of categories" [value]="cat">{{ cat | titlecase }}</option>
    </select>
  </div>

  <ul class="workout-list">
    <li *ngFor="let workout of sortedWorkouts$ | async; trackBy: trackByWorkout">
      <div class="workout-category">
        <img [src]="workout.category + '.png'" [alt]="workout.category" />
        <strong>{{ workout.category }}</strong>
      </div>
      Duration: {{ workout.duration }} min
      <span *ngIf="workout.distance">- Distance: {{ workout.distance }} km</span>
      <div class="created-at">Created at: {{ workout.createdAt | date:'short' }}</div>

      <button (click)="updateWorkout(workout)">Edit</button>
      <button (click)="deleteWorkout(workout.id)">Delete</button>
    </li>
  </ul>
</div>
